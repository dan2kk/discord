(function(){"use strict";var e={5865:function(e,n,t){var s=t(9242),r=t(3396);function o(e,n,t,s,o,i){const a=(0,r.up)("router-view");return(0,r.wg)(),(0,r.j4)(a)}var i={name:"App",computed:{isLogined(){return this.$store.getters.getIsLogined}}},a=t(89);const u=(0,a.Z)(i,[["render",o]]);var l=u,c=t(2483),d=t.p+"img/ok.69c5ab13.svg";const g={id:"login"},f=(0,r._)("div",{class:"loginText"},"로그인",-1),h={class:"loginBox"},m={class:"idin"},p={key:0,class:"checkImg1",src:d,alt:""},v={class:"pwin"},w={key:0,class:"checkImg2",src:d,alt:""},I={class:"nav"};function y(e,n,t,o,i,a){const u=(0,r.up)("router-link");return(0,r.wg)(),(0,r.iD)("div",g,[f,(0,r._)("div",h,[(0,r._)("div",m,[(0,r._)("div",null,[(0,r.wy)((0,r._)("input",{class:"inputBox",type:"text","onUpdate:modelValue":n[0]||(n[0]=e=>i.userId=e),placeholder:"ID"},null,512),[[s.nr,i.userId]]),i.userId.length>=4?((0,r.wg)(),(0,r.iD)("img",p)):(0,r.kq)("",!0)])]),(0,r._)("div",v,[(0,r._)("div",null,[(0,r.wy)((0,r._)("input",{class:"inputBox",type:"password","onUpdate:modelValue":n[1]||(n[1]=e=>i.userPw=e),placeholder:"비밀번호"},null,512),[[s.nr,i.userPw]]),i.userPw.length>=6?((0,r.wg)(),(0,r.iD)("img",w)):(0,r.kq)("",!0)])]),(0,r._)("button",{class:"loginButton",onClick:n[2]||(n[2]=(...e)=>a.login&&a.login(...e))},"로그인")]),(0,r._)("nav",I,[(0,r.Wm)(u,{to:"/create"},{default:(0,r.w5)((()=>[(0,r.Uk)("회원가입")])),_:1}),(0,r.Uk)(" | "),(0,r.Wm)(u,{to:"/find"},{default:(0,r.w5)((()=>[(0,r.Uk)("비밀번호 찾기")])),_:1}),(0,r.Uk)(" | ")])])}t(7658);var k=t(2066),_=t(4161),N=t(4870),L=t(65),P=(0,L.MT)({state:{serverURL:"https://localhost:9091",userInfo:{userId:"",userPw:"",userName:""},isLogined:!1},getters:{getServerURL(e){return e.serverURL},getUserInfo(e){return e.userInfo},getIsLogined(e){return e.isLogined}},mutations:{setuserInfo(e,n){e.userInfo.userId=n.userId,e.userInfo.userPw=n.userPw,e.userInfo.userName=n.userName},setIsLogined(e,n){n?e.isLogined=!0:(e.userInfo.userId="",e.userInfo.userPw="",e.userInfo.userName="",e.userInfo.userToken="",e.isLogined=!1)}},actions:{},modules:{}});const b=(0,N.qj)({connected:!1,userName:null,channelList:[],userList:[],nowChannel:null}),U=void 0,x=(0,k.io)(U);function O(){b.userName||(b.userName=P.state.userInfo.userName),console.log(b.userName),x.emit("login",JSON.stringify({name:b.userName}))}function S(e,n,t){x.emit("channelCreate",JSON.stringify({name:b.userName,channelName:e,isLocked:n,password:t}))}function D(e,n){x.emit("channelJoin",JSON.stringify({name:b.userName,channelName:e,password:n}))}x.on("connect",(()=>{console.log("socket connected"),b.connected=!0})),x.on("disconnect",(()=>{console.log("socket disconnected"),b.connected=!1})),x.on("message",(e=>{try{e=JSON.parse(e)}catch(n){console.error(n)}switch(e.type){case"login":e.success?(b.channelList=e.channels,console.log("Login success!!")):console.error("Already Logined in Server!!");break;case"channelCreate":e.success?b.nowChannel=e.channelName:console.error("channel name already exits");break;case"channelJoin":e.success?(b.nowChannel=e.channelName,b.userList=e.candidate):console.error(e.msg);break}}));var C={name:"LoginPage",data(){return{userId:"",userPw:"",loginState:!1}},methods:{loginEnter(e){13===e.keyCode&&""!==this.userId&&""!==this.message&&this.login()},async login(){alert("Login");const e=this.$store.getters.getServerURL;console.log("Login attempt, ID: "+this.userId),console.log("PW: "+this.userPw);this.userId,this.userPw;let n=(await _.Z.get(e+"/login",{params:{id:this.userId,pw:this.userPw}})).data;if(n.state){let e={userId:this.userId,userPw:this.userPw,userName:n.userName};this.$store.commit("setuserInfo",e),this.$store.commit("setIsLogined",!0),b.userName=n.userName,await ie.push("/main")}else alert("아이디 혹은 비밀번호가 옳바르지 않습니다. 다시 로그인해주세요!")},connect(){const e=this.$store.getters.getServerURL;let n=new k.io(e);n.on("connect",(()=>{console.log(n.id),this.connected=!0}))}}};const j=(0,a.Z)(C,[["render",y]]);var B=j;const T={id:"find"};function $(e,n,t,o,i,a){return(0,r.wg)(),(0,r.iD)("div",T,[(0,r.Uk)(" 찾으려는 ID: "),(0,r.wy)((0,r._)("input",{"onUpdate:modelValue":n[0]||(n[0]=e=>i.findId=e),type:"text",onKeyup:n[1]||(n[1]=(...e)=>a.findEnter&&a.findEnter(...e))},null,544),[[s.nr,i.findId]]),(0,r._)("button",{onClick:n[2]||(n[2]=(...e)=>a.find&&a.find(...e))},"비밀번호 찾기")])}var Z={name:"PwFind.vue",data(){return{findId:""}},methods:{findEnter(e){13===e.keyCode&&""!==this.findId&&this.find()},async find(){const e=this.$store.getters.getServerURL;console.log("Find ID attempt, ID: "+this.findId);let n=(await _.Z.get(e+"/login/find",{params:{id:this.findId}})).data;n.state?alert("입력하신 아이디의 비밀번호는 "+n.findPw+" 입니다"):alert("입력하신 아이디를 찾을 수 없습니다. 다시 시도해주세요!"),alert("Test"),ie.push({path:"/"})}}};const R=(0,a.Z)(Z,[["render",$]]);var q=R;const J={id:"login"},V=(0,r._)("div",{class:"loginText"},"회원가입",-1),E={class:"loginBox"},M={class:"idin"},F={key:0,class:"checkImg1",src:d,alt:""},W={class:"pwin"},A={key:0,class:"checkImg2",src:d,alt:""},H={class:"nickin"},K={key:0,class:"checkImg3",src:d,alt:""};function Y(e,n,t,o,i,a){return(0,r.wg)(),(0,r.iD)("div",J,[V,(0,r._)("div",E,[(0,r._)("div",M,[(0,r._)("div",null,[(0,r.wy)((0,r._)("input",{class:"inputBox",type:"text","onUpdate:modelValue":n[0]||(n[0]=e=>i.userId=e),placeholder:"ID"},null,512),[[s.nr,i.userId]]),i.userId.length>=4?((0,r.wg)(),(0,r.iD)("img",F)):(0,r.kq)("",!0)])]),(0,r._)("div",W,[(0,r._)("div",null,[(0,r.wy)((0,r._)("input",{class:"inputBox",type:"text","onUpdate:modelValue":n[1]||(n[1]=e=>i.userPw=e),placeholder:"비밀번호"},null,512),[[s.nr,i.userPw]]),i.userPw.length>=6?((0,r.wg)(),(0,r.iD)("img",A)):(0,r.kq)("",!0)])]),(0,r._)("div",H,[(0,r._)("div",null,[(0,r.wy)((0,r._)("input",{class:"inputBox",type:"text","onUpdate:modelValue":n[2]||(n[2]=e=>i.userName=e),placeholder:"닉네임"},null,512),[[s.nr,i.userName]]),i.userName.length>=3?((0,r.wg)(),(0,r.iD)("img",K)):(0,r.kq)("",!0)])]),(0,r._)("button",{class:"createButton",onClick:n[3]||(n[3]=(...e)=>a.create&&a.create(...e))},"회원가입")])])}var z={name:"SignUp",data(){return{userId:"",userPw:"",userName:""}},methods:{async create(){const e=this.$store.getters.getServerURL;if(console.log("회원가입 시도!"),this.userId.length<4)return void alert("아이디 길이는 4 이상이어야 합니다.");if(this.userPw.length<6)return void alert("비밀번호 길이는 6 이상이어야 합니다.");if(this.userName.length<3)return void alert("닉네임 길이는 3 이상이어야 합니다.");let n=(await _.Z.post(e+"/login/create",{params:{id:this.userId,pw:this.userPw,name:this.userName}})).data;n.state?(alert("회원가입 완료!"),ie.push({path:"/"})):alert("기존에 존재하는 아이디및 닉네임입니다!")}}};const G=(0,a.Z)(z,[["render",Y]]);var Q=G;const X=(0,r._)("div",null,"공사중",-1);function ee(e,n,t,s,o,i){return(0,r.wg)(),(0,r.iD)(r.HY,null,[X,(0,r._)("button",{onClick:n[0]||(n[0]=(...e)=>i.test&&i.test(...e))},"테스트")],64)}var ne={name:"main",data(){return{}},created(){this.isLogined||(alert("옳바르지 않은 접근입니다!"),ie.push("/"))},computed:{userInfo(){return this.$store.getters.getUserInfo},isLogined(){return this.$store.getters.getIsLogined}},methods:{test(){O(),S("test",!1,null),D("test1",null)}}};const te=(0,a.Z)(ne,[["render",ee]]);var se=te;const re=[{path:"/",name:"login,",component:B},{path:"/find",name:"find,",component:q},{path:"/create",name:"SignUp",component:Q},{path:"/main",name:"main",component:se}],oe=(0,c.p7)({history:(0,c.PO)("/"),routes:re});var ie=oe;(0,s.ri)(l).use(P).use(ie).mount("#app")}},n={};function t(s){var r=n[s];if(void 0!==r)return r.exports;var o=n[s]={exports:{}};return e[s](o,o.exports,t),o.exports}t.m=e,function(){var e=[];t.O=function(n,s,r,o){if(!s){var i=1/0;for(c=0;c<e.length;c++){s=e[c][0],r=e[c][1],o=e[c][2];for(var a=!0,u=0;u<s.length;u++)(!1&o||i>=o)&&Object.keys(t.O).every((function(e){return t.O[e](s[u])}))?s.splice(u--,1):(a=!1,o<i&&(i=o));if(a){e.splice(c--,1);var l=r();void 0!==l&&(n=l)}}return n}o=o||0;for(var c=e.length;c>0&&e[c-1][2]>o;c--)e[c]=e[c-1];e[c]=[s,r,o]}}(),function(){t.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(n,{a:n}),n}}(),function(){t.d=function(e,n){for(var s in n)t.o(n,s)&&!t.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:n[s]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)}}(),function(){t.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){t.p="/"}(),function(){var e={143:0};t.O.j=function(n){return 0===e[n]};var n=function(n,s){var r,o,i=s[0],a=s[1],u=s[2],l=0;if(i.some((function(n){return 0!==e[n]}))){for(r in a)t.o(a,r)&&(t.m[r]=a[r]);if(u)var c=u(t)}for(n&&n(s);l<i.length;l++)o=i[l],t.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return t.O(c)},s=self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[];s.forEach(n.bind(null,0)),s.push=n.bind(null,s.push.bind(s))}();var s=t.O(void 0,[998],(function(){return t(5865)}));s=t.O(s)})();
//# sourceMappingURL=app.a873f6c1.js.map